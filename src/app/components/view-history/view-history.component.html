
<div class="container-fluid">

    <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Referred and modified by Suhas from https://www.tutorialrepublic.com/twitter-bootstrap-tutorial/bootstrap-tables.php#:~:text=Creating%20Responsive%20Tables%20with%20Bootstrap.%20You%20can%20also,on%20the%20screen%20width%2C%20using%20the%20classes%20.table-responsive%7B-sm%7C-md%7C-lg%7C-xl%7D -->
<title>Bootstrap Accented Tables</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div class="m-4">
    <table class="table">
        <thead>
            <tr>
                <th class="col-md-0"><b>#</b></th>
                <th class="col-md-2"><b>UserName</b></th>
                <th class="col-md-2"><b>Subject</b></th>
                <th class="col-md-3"><b>Recipients</b></th>
                <th class="col-md-1"><b>Status</b></th>
                <th class="col-md-2"><b>Time</b></th>
                <th class="col-md-2"><b>View Email</b></th>
                <th class="col-md-1"><b>Action</b></th>
            </tr>
        </thead>
        <tbody>
        
            <tr *ngFor="let item of historyList;let i= index">
                <td data-mdb-toggle="tooltip" [title]="item?.id">{{item?.id.length > 12 ? item?.id.substr(0,12)+ '...': item?.id }} </td>
                <td data-mdb-toggle="tooltip" [title]="item?.username">{{item?.username.length > 24 ? item?.username.substr(0,24)+ '...': item?.username }}</td>
                <td data-mdb-toggle="tooltip" [title]="item?.subject.length">{{item?.subject.length > 24 ? item?.subject.substr(0,24)+ '...': item?.subject }}</td>
                <td data-mdb-toggle="tooltip" [title]="item?.recipient_email_id">{{item?.recipient_email_id.length > 36 ? item?.recipient_email_id.substr(0,36)+ '...': item?.recipient_email_id }}</td>
                <td data-mdb-toggle="tooltip"*ngIf="item?.status === 'Success'" [title]="item?.status"><p  style="color: green">{{item?.status}}</p></td>
                <td data-mdb-toggle="tooltip" *ngIf="item?.status !== 'Success'"   [title]="item?.status"><p  style="color: red">{{item?.status}}</p></td>


                <td data-mdb-toggle="tooltip" [title]="item?.email_datetime">{{item?.email_datetime.length > 20 ? item?.email_datetime.substr(0,15)+ '...': item?.email_datetime }}</td>
                <td ><button class="btn btn-dark btn-sm" data-target="#exampleModalCenter" (click)="showView(i)">Click Here</button></td>
 <td><button class="btn btn-dark btn-sm"(click)="deleteRecord(item?.id,false)">Delete</button></td>
               
            </tr>
        </tbody>
<tr><b><pre>No Data Found</pre> </b></tr>
      
  <!--Referred and modified by Suhas from   https://www.geeksforgeeks.org/how-to-make-a-bootstrap-modal-popup-in-angular-9-8/-->
  <!-- Modal -->
 
    </table>
    <p *ngIf="historyList?.length"><b>Do you want to clear history </b><button style="text-align-last: right;" class="btn btn-dark btn-sm" (click)="deleteRecord(0,true)">Delete ALL</button></p>

    <div
    class="modal"
    tabindex="-1"
    role="dialog"
    [ngStyle]="{'display':displayStyle}">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">View Email</h4>
        </div>
        <div class="modal-body" [innerHTML]="emailTemplate">
    
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" 
                  (click)="closePopup()">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
   

</div>
</body>
</html>    
    </div>
